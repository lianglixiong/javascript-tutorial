<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>03返回顶部的效果</title>
	<style>
		#totop{display:none;position:fixed;bottom:10px;right:10px;background-color: #ccc;padding:10px;}
	</style>
	<script>
		for(var i=0;i<1000;i++){
			document.write('<p>我叫你'+i+'声逗比你敢答应吗？</p>')
		}

		window.onload = function(){
			var totop = document.getElementById('totop');

			// 当滚动条滚动到300px时显示返回顶部按钮
			// 绑定滚动事件:当拖动滚动条时触发（多次）
			window.onscroll = function(){
				var scrollTop = window.scrollY;
				if(scrollTop >= 800){
					totop.style.display = 'block';
				}else{
					totop.style.display = 'none';
				}

			}

			// 给#totop绑定点击事件
			totop.onclick = function(){
				

				// 定时器
				var timer = setInterval(function(){
					var scrollTop = window.scrollY;console.log(scrollTop)

					// 关键：根据滚动过的距离计算滚动速度
					var speed = scrollTop/20;

					//scrollTop = scrollTop - speed;

					// 当滚动到顶部时，清除定时器
					if(scrollTop <=10){
						clearInterval(timer);
						scrollTop = 0;
					}

					//window.scrollTo(0,scrollTop);
					window.scrollBy(0,-speed);
				});

			}
			
		}
	</script>
</head>
<body>
	<div id="totop">返回顶部</div>
</body>
</html>